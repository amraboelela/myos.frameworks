
LIB_NAME=Foundation
CFLAGS=-DGNUSTEP_BASE_INTERNAL=1 -DGNUSTEP -DGSWARN -DGSDIAGNOSE -DGNUSTEP_BASE_LIBRARY=1 -DGNU_RUNTIME=1 -DGNUSTEP_BASE_LIBRARY=1  -fconstant-string-class=NSConstantString -DGNUSTEP_TARGET_DIR=\".\" -DGNUSTEP_IS_FLATTENED=\"yes\"

LDLIBS=-lffi -lz -lCoreFoundation

ifeq ($(BASE_OS),android)
    CFLAGS+=-DGNUSTEP_TARGET_CPU=\"arm\"
    -DGNUSTEP_TARGET_OS=\"linux-android\"
else
    CFLAGS+=-fexceptions -fobjc-exceptions -pthread -D_NATIVE_OBJC_EXCEPTIONS -DGNUSTEP_TARGET_CPU=\"x86_64\"
    -DGNUSTEP_TARGET_OS=\"linux-gnu\"
    LDLIBS+=-lxml2 -lpthread -licui18n -licuuc -licudata
endif

OBJECTS = \
    NSObject.o \
    NSProcessInfo.o \
    externs.o \
    NSUserDefaults.o \
    Unicode.o \
    NSCalendarDate.o \
    NSZone.o \
    NSDebug.o \
    NSDebug+GNUstepBase.o \
    NSCallBacks.o \
    NSMapTable.o \
    NSConcreteMapTable.o \
    GSObjCRuntime.o \
    NSObjCRuntime.o \
    NSLog.o \
    NSPage.o \
    NSException.o \
    NSPathUtilities.o \
    objc-load.o \
    NSBundle.o \
    GSLocale.o \
    NSCopyObject.o \
    NSThread.o \
    NSRange.o \
    NSString.o \
    GSFormat.o \
    GSString.o \
    NSDecimal.o \
    NSScanner.o \
    NSPropertyList.o \
    GSLock.o \
    NSAssertionHandler.o \
    NSLock.o \
    NSAutoreleasePool.o \
    NSNotificationCenter.o \
    NSMethodSignature.o \
    NSProxy.o \
    NSHost.o \
    NSSet.o \
    NSEnumerator.o \
    NSArray.o \
    NSDictionary.o \
    NSFileManager.o \
    NSData.o \
    NSDate.o \
    NSNumber.o \
    NSDistributedLock.o \
    GSMime.o \
    NSTimeZone.o \
    NSValue.o \
    NSPointerFunctions.o \
    NSConcretePointerFunctions.o \
    NSInvocation.o \
    cifframe.o \
    NSNull.o \
    NSError.o \
    NSURL.o \
    NSRunLoop.o \
    NSNotificationQueue.o \
    NSTask.o \
    NSGarbageCollector.o \
    NSRegularExpression.o \
    NSCharacterSet.o \
    NSLocale.o \
    NSXMLParser.o \
    GSArray.o \
    GSDictionary.o \
    NSSerializer.o \
    NSCountedSet.o \
    NSNotification.o \
    NSDistantObject.o \
    GSSet.o \
    NSKeyedArchiver.o \
    NSIndexSet.o \
    NSDecimalNumber.o \
    NSURLHandle.o \
    GSInsensitiveDictionary.o \
    NSStream.o \
    NSTimer.o \
    GSValue.o \
    GSConcreteValue.o \
    NSGeometry.o \
    GSFFIInvocation.o \
    GSRunLoopCtxt.o \
    GSRunLoopWatcher.o \
    NSFileHandle.o \
    NSPipe.o \
    NSAffineTransform.o \
    NSArchiver.o \
    NSArray+GNUstepBase.o \
    NSAttributedString+GNUstepBase.o \
    NSAttributedString.o \
    NSBundle+GNUstepBase.o \
    NSCFArray.o \
    NSCFAttributedString.o \
    NSCFData.o \
    NSCFDictionary.o \
    NSCFError.o \
    NSCFSet.o \
    NSCFString.o \
    NSCFType.o \
    NSCache.o \
    NSCachedURLResponse.o \
    NSCalendar.o \
    NSCalendarDate+GNUstepBase.o \
    NSClassDescription.o \
    NSCoder.o \
    NSConcreteHashTable.o \
    NSConnection.o \
    NSData+GNUstepBase.o \
    NSDateFormatter.o \
    NSDistributedNotificationCenter.o \
    NSError+GNUstepBase.o \
    NSFileHandle+GNUstepBase.o \
    NSFormatter.o \
    NSHTTPCookie.o \
    NSHTTPCookieStorage.o \
    NSHashTable.o \
    NSIndexPath.o \
    NSJSONSerialization.o \
    NSKeyValueCoding.o \
    NSKeyValueObserving.o \
    NSKeyedUnarchiver.o \
    NSLock+GNUstepBase.o \
    NSMessagePort.o \
    NSMessagePortNameServer.o \
    NSMutableString+GNUstepBase.o \
    NSNumber+GNUstepBase.o \
    NSNumberFormatter.o \
    NSObject+GNUstepBase.o \
    NSObject+NSComparisonMethods.o \
    NSOperation.o \
    NSPointerArray.o \
    NSPort.o \
    NSPortCoder.o \
    NSPortMessage.o \
    NSPortNameServer.o \
    NSPredicate.o \
    NSProcessInfo+GNUstepBase.o \
    NSPropertyList+GNUstepBase.o \
    NSProtocolChecker.o \
    NSSocketPort.o \
    NSSocketPortNameServer.o \
    NSSortDescriptor.o \
    NSSpellServer.o \
    NSStream+GNUstepBase.o \
    NSString+GNUstepBase.o \
    NSTask+GNUstepBase.o \
    NSTextCheckingResult.o \
    NSThread+GNUstepBase.o \
    NSURL+GNUstepBase.o \
    NSURLAuthenticationChallenge.o \
    NSURLCache.o \
    NSURLConnection.o \
    NSURLCredential.o \
    NSURLCredentialStorage.o \
    NSURLDownload.o \
    NSURLProtectionSpace.o \
    NSURLProtocol.o \
    NSURLRequest.o \
    NSURLResponse.o \
    NSUnarchiver.o \
    NSUndoManager.o \
    NSValueTransformer.o \
    GSAttributedString.o \
    GSBlocks.o \
    GSCountedSet.o \
    GSFTPURLHandle.o \
    GSFileHandle.o \
    GSFunctions.o \
    GSHTTPAuthentication.o \
    GSHTTPURLHandle.o \
    GSICUString.o \
    GSSocketStream.o \
    GSSocks4Parser.o \
    GSSocks5Parser.o \
    GSSocksParser.o \
    GSSocksParserPrivate.o \
    GSXML.o \
    GSStream.o \

include ${MYOS_PATH}/sdk/makefiles/$(BASE_OS)/makefile-shared
