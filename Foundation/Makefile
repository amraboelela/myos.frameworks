
CFLAGS+=-MMD -MP -DGNUSTEP_TARGET_DIR=\".\" -DGNUSTEP_IS_FLATTENED=\"yes\" -DLIBRARY_COMBO=\"gnu-gnu-gnu\" -DGNUSTEP_BASE_INTERNAL=1 -Wall -Wdeclaration-after-statement -Wcast-align -DGNUSTEP -DGNUSTEP_BASE_LIBRARY=1 -DGNU_RUNTIME=1 -DGNUSTEP_BASE_LIBRARY=1 -fno-strict-aliasing -fexceptions -fobjc-exceptions -D_NATIVE_OBJC_EXCEPTIONS -pthread -DGSWARN -DGSDIAGNOSE -Wno-import -g -O2 -fgnu-runtime -fconstant-string-class=NSConstantString -I/usr/include/libxml2

LDLIBS=-lffi -lz

ifeq ($(BASE_OS),android)
    CFLAGS+=-DGNUSTEP_TARGET_CPU=\"arm\"
    -DGNUSTEP_TARGET_OS=\"linux-android\"
else
    CFLAGS+=-fexceptions -fobjc-exceptions -pthread -D_NATIVE_OBJC_EXCEPTIONS -DGNUSTEP_TARGET_CPU=\"x86_64\"
    -DGNUSTEP_TARGET_OS=\"linux-gnu\"
    LDLIBS+=-lxml2 -lpthread -licui18n -licuuc -licudata -lgnutls -lxslt
endif

OBJECTS = \
    NSObject \
    NSProcessInfo \
    externs \
    NSUserDefaults \
    Unicode \
    NSCalendarDate \
    NSZone \
    NSDebug \
    NSDebug+GNUstepBase \
    NSCallBacks \
    NSMapTable \
    NSConcreteMapTable \
    GSObjCRuntime \
    NSObjCRuntime \
    NSLog \
    NSPage \
    NSException \
    NSPathUtilities \
    objc-load \
    NSBundle \
    GSLocale \
    NSCopyObject \
    NSThread \
    NSRange \
    NSString \
    GSFormat \
    GSString \
    GSPrivateHash \
    NSDecimal \
    NSScanner \
    NSPropertyList \
    GSLock \
    NSAssertionHandler \
    NSLock \
    NSAutoreleasePool \
    NSNotificationCenter \
    NSMethodSignature \
    NSProxy \
    NSHost \
    NSSet \
    NSEnumerator \
    NSArray \
    NSDictionary \
    NSFileManager \
    NSData \
    NSDate \
    NSNumber \
    NSDistributedLock \
    GSMime \
    NSTimeZone \
    NSValue \
    NSPointerFunctions \
    NSConcretePointerFunctions \
    NSInvocation \
    cifframe \
    NSNull \
    NSError \
    NSURL \
    NSRunLoop \
    NSNotificationQueue \
    NSTask \
    NSGarbageCollector \
    NSRegularExpression \
    NSCharacterSet \
    NSLocale \
    NSXMLParser \
    GSArray \
    GSDictionary \
    NSSerializer \
    NSCountedSet \
    NSNotification \
    NSDistantObject \
    GSSet \
    NSKeyedArchiver \
    NSIndexSet \
    NSDecimalNumber \
    NSURLHandle \
    GSInsensitiveDictionary \
    NSStream \
    NSTimer \
    GSValue \
    GSConcreteValue \
    NSGeometry \
    GSFFIInvocation \
    GSRunLoopCtxt \
    GSRunLoopWatcher \
    NSFileHandle \
    NSPipe \
    NSAffineTransform \
    NSArchiver \
    NSArray+GNUstepBase \
    NSAttributedString+GNUstepBase \
    NSAttributedString \
    NSBundle+GNUstepBase \
    NSCache \
    NSCachedURLResponse \
    NSCalendar \
    NSCalendarDate+GNUstepBase \
    NSClassDescription \
    NSCoder \
    NSConcreteHashTable \
    NSConnection \
    NSData+GNUstepBase \
    NSDateFormatter \
    NSDistributedNotificationCenter \
    NSError+GNUstepBase \
    NSFileHandle+GNUstepBase \
    NSFormatter \
    NSHTTPCookie \
    NSHTTPCookieStorage \
    NSHashTable \
    NSIndexPath \
    NSJSONSerialization \
    NSKeyValueCoding \
    NSKeyValueObserving \
    NSKeyedUnarchiver \
    NSLock+GNUstepBase \
    NSMessagePort \
    NSMessagePortNameServer \
    NSMutableString+GNUstepBase \
    NSNumber+GNUstepBase \
    NSNumberFormatter \
    NSObject+GNUstepBase \
    NSObject+NSComparisonMethods \
    NSOperation \
    NSPointerArray \
    NSPort \
    NSPortCoder \
    NSPortMessage \
    NSPortNameServer \
    NSPredicate \
    NSProcessInfo+GNUstepBase \
    NSPropertyList+GNUstepBase \
    NSProtocolChecker \
    NSSocketPort \
    NSSocketPortNameServer \
    NSSortDescriptor \
    NSSpellServer \
    NSStream+GNUstepBase \
    NSString+GNUstepBase \
    NSTask+GNUstepBase \
    NSTextCheckingResult \
    NSThread+GNUstepBase \
    NSURL+GNUstepBase \
    NSURLAuthenticationChallenge \
    NSURLCache \
    NSURLConnection \
    NSURLCredential \
    NSURLCredentialStorage \
    NSURLDownload \
    NSURLProtectionSpace \
    NSURLProtocol \
    NSURLRequest \
    NSURLResponse \
    NSUnarchiver \
    NSUndoManager \
    NSValueTransformer \
    GSAttributedString \
    GSBlocks \
    GSCountedSet \
    GSFTPURLHandle \
    GSFileHandle \
    GSFunctions \
    GSHTTPAuthentication \
    GSHTTPURLHandle \
    GSICUString \
    GSSocketStream \
    GSSocks4Parser \
    GSSocks5Parser \
    GSSocksParser \
    GSSocksParserPrivate \
    GSXML \
    GSStream \
    GSTLS \
    GSShellSort \
    GSTimSort \

include ${MYOS_PATH}/sdk/$(BASE_OS)/makefile-shared
